<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Quick Reference</title>
<meta name=keywords content><meta name=description content="useRef Hook in React
useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.
Another important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not.
Its explained in the below example in ## 2. Advanvced Usage"><meta name=author content="Nirajan Khatiwada"><link rel=canonical href=http://localhost:1313/posts/pages/react/react7/><link crossorigin=anonymous href=/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY+IJWZFnspCg=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/images/icon.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/pages/react/react7/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content><meta property="og:description" content="useRef Hook in React
useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.
Another important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not.
Its explained in the below example in ## 2. Advanvced Usage"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/pages/react/react7/"><meta property="og:image" content="http://localhost:1313/images/shar.jpg"><meta property="article:section" content="posts"><meta property="og:site_name" content="Quick Reference"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/images/shar.jpg"><meta name=twitter:title content><meta name=twitter:description content="useRef Hook in React
useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.
Another important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not.
Its explained in the below example in ## 2. Advanvced Usage"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"","item":"http://localhost:1313/posts/pages/react/react7/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"useRef Hook in React useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.\nAnother important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not. Its explained in the below example in ## 2. Advanvced Usage\n","keywords":[],"articleBody":"useRef Hook in React useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.\nAnother important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not. Its explained in the below example in ## 2. Advanvced Usage\n1. Basic Usage 1. Import useRef import { useRef } from 'react'; 2. Create a Reference const myRef = useRef(); 3. Attach to DOM Elements function MyComponent() { const myRef = useRef(); return ( \u003cdiv ref={myRef}\u003e \u003ch1\u003euseRef Example\u003c/h1\u003e \u003c/div\u003e ); } 4. Accessing the Reference // Access the DOM element using .current const element = myRef.current; use myRef.current.value for input elements. use myRef.current.checked for checkbox elements. use myRef.current.focus() to focus on an element. use myRef.current.style to access the style object of an element.\nNote: While you can access DOM elements directly with useRef, it’s recommended to avoid manipulating them directly unless necessary.\nPractical Example: Form Input Here’s a complete example showing how to use useRef with form inputs:\nimport { useRef, useState } from 'react'; function InputExample() { const inputRef = useRef(); const [inputValue, setInputValue] = useState(''); const handleClick = () =\u003e { setInputValue(inputRef.current.value); inputRef.current.value = ''; // Clear input after reading }; return ( \u003cdiv\u003e \u003cinput type=\"text\" ref={inputRef} placeholder=\"Type something...\" /\u003e \u003cbutton onClick={handleClick}\u003eSave Input\u003c/button\u003e \u003cp\u003eSaved value: {inputValue}\u003c/p\u003e \u003c/div\u003e ); } Explanation:\nWe create a reference to the input element using useRef. When the button is clicked, we read the input value using inputRef.current.value and update the state. We clear the input field by setting inputRef.current.value to an empty string. 2. Advanced Usage of useRef and useState useRef and useState are both hooks used in React. Both hooks help us store values, but they behave differently: useState: The value is persistent across re-renders, but updating it triggers a re-render. useRef: The value is also persistent across re-renders, but updating it does not trigger a re-render. 2.1. Managing Previous Values in a Stopwatch Here’s an example of how to use useRef and useState to build a simple stopwatch in React:\nimport { useRef, useState } from 'react'; function Stopwatch() { const timerRef = useRef(0); // To store the timer ID const [time, setTime] = useState(0); // To store the current time const [isRunning, setIsRunning] = useState(false); // To track if the stopwatch is running // Start the timer when the Start button is clicked const startTimer = () =\u003e { if (!isRunning) { timerRef.current = setInterval(() =\u003e { setTime((time) =\u003e time + 1); // Increment the time every second }, 1000); setIsRunning(true); // Set the timer as running } }; // Stop the timer when the Stop button is clicked const stopTimer = () =\u003e { clearInterval(timerRef.current); // Clear the interval to stop the timer setIsRunning(false); // Set the timer as not running }; // Reset the timer when the Reset button is clicked const resetTimer = () =\u003e { clearInterval(timerRef.current); // Clear the interval to stop the timer setIsRunning(false); // Set the timer as not running setTime(0); // Reset the time to 0 }; return ( \u003cdiv\u003e \u003ch1\u003eStopwatch\u003c/h1\u003e \u003cp\u003eTime: {time} seconds\u003c/p\u003e \u003cbutton onClick={startTimer}\u003eStart\u003c/button\u003e \u003cbutton onClick={stopTimer}\u003eStop\u003c/button\u003e \u003cbutton onClick={resetTimer}\u003eReset\u003c/button\u003e \u003c/div\u003e ); } Explanation Creating useRef and useState variables:\ntimerRef: This holds the timer ID (returned by setInterval). We use useRef here because we don’t need the component to re-render when the timer ID changes. time: This stores the current time value of the stopwatch, and we use useState for this because we want the component to re-render whenever the time updates. isRunning: This tracks whether the stopwatch is running or not. Starting the timer (Start Button):\nWhen the “Start” button is clicked, we check if the timer is already running. If it isn’t, we start it by calling setInterval, which increments the time value every second. setInterval returns an interval ID that we store in timerRef.current. This ID will be used to stop the timer later. Stopping the timer (Stop Button):\nWhen the “Stop” button is clicked, we clear the interval using clearInterval(timerRef.current) to stop the timer. We also set isRunning to false to indicate that the timer is no longer running. Resetting the timer (Reset Button):\nWhen the “Reset” button is clicked, we clear the interval to stop the timer, set isRunning to false, and reset the time back to 0. Why useRef? Why not just use a regular variable?\nA regular variable inside the component would reset every time the component re-renders. Since the timer is being updated every second, this would cause issues because the value would be reset each time, and the timer wouldn’t function correctly. Why useRef over useState for the timer ID?\nWe use useRef to store the timer ID because updating it with useState would trigger a re-render every time the timer ID changes. Since the timer is running independently, we don’t need a re-render, so useRef is more efficient here. Key Takeaways useRef is useful for storing values that don’t require the component to re-render when they change. useState is used for values that should trigger a re-render when updated, like the time value in our stopwatch. useRef does not cause a re-render when its value changes, making it ideal for holding values like the interval ID that don’t need to affect the UI. Common Use Cases Storing previous values Managing focus, text selection, or media playback Integrating with third-party DOM libraries Accessing underlying DOM elements Isolation in Components: Any variable that is declared inside a component is isolated to that component. It is not shared with other components unless explicitly passed as props. This isolation helps maintain the encapsulation and modularity of components in React.\n","wordCount":"983","inLanguage":"en","image":"http://localhost:1313/images/shar.jpg","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Nirajan Khatiwada"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/pages/react/react7/"},"publisher":{"@type":"Organization","name":"Quick Reference","logo":{"@type":"ImageObject","url":"http://localhost:1313/images/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Quick Reference (Alt + H)">Quick Reference</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent"></h1><div class=post-meta>5 min&nbsp;·&nbsp;983 words&nbsp;·&nbsp;Nirajan Khatiwada&nbsp;|&nbsp;<a href=https://github.com/nirajan-khatiwada/quick-reference/tree/main/content/posts/pages/react/react7.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=useref-hook-in-react>useRef Hook in React<a hidden class=anchor aria-hidden=true href=#useref-hook-in-react>#</a></h1><p>useRef is a hook that is specially designed to work with DOM elements. It allows you to create a reference to a DOM element and access it directly in your components so you can modify it or read its properties as needed.</p><p>Another important distinction is that useRef holds the same reference across re-renders of the component Similarly, useState also retains its value between renders. However, updating a state value with useState will always trigger a re-render, whereas updating the value of a useRef does not.
Its explained in the below example in ## 2. Advanvced Usage</p><h2 id=1-basic-usage>1. Basic Usage<a hidden class=anchor aria-hidden=true href=#1-basic-usage>#</a></h2><h3 id=1-import-useref>1. Import useRef<a hidden class=anchor aria-hidden=true href=#1-import-useref>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRef</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span></code></pre></div><h3 id=2-create-a-reference>2. Create a Reference<a hidden class=anchor aria-hidden=true href=#2-create-a-reference>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myRef</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>();
</span></span></code></pre></div><h3 id=3-attach-to-dom-elements>3. Attach to DOM Elements<a hidden class=anchor aria-hidden=true href=#3-attach-to-dom-elements>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MyComponent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myRef</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>myRef</span>}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>useRef</span> <span style=color:#a6e22e>Example</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-accessing-the-reference>4. Accessing the Reference<a hidden class=anchor aria-hidden=true href=#4-accessing-the-reference>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#75715e>// Access the DOM element using .current
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>element</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>myRef</span>.<span style=color:#a6e22e>current</span>;
</span></span></code></pre></div><blockquote><p>use <code>myRef.current.value</code> for input elements.
use <code>myRef.current.checked</code> for checkbox elements.
use <code>myRef.current.focus()</code> to focus on an element.
use <code>myRef.current.style</code> to access the style object of an element.</p></blockquote><blockquote><p>Note: While you can access DOM elements directly with useRef, it&rsquo;s recommended to avoid manipulating them directly unless necessary.</p></blockquote><h2 id=practical-example-form-input>Practical Example: Form Input<a hidden class=anchor aria-hidden=true href=#practical-example-form-input>#</a></h2><p>Here&rsquo;s a complete example showing how to use useRef with form inputs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>InputExample</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>inputRef</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>inputValue</span>, <span style=color:#a6e22e>setInputValue</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>handleClick</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setInputValue</span>(<span style=color:#a6e22e>inputRef</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>value</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>inputRef</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>; <span style=color:#75715e>// Clear input after reading
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>inputRef</span>} <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Type something...&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleClick</span>}&gt;<span style=color:#a6e22e>Save</span> <span style=color:#a6e22e>Input</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>Saved</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>inputValue</span>}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Explanation:</p><ul><li>We create a reference to the input element using useRef.</li><li>When the button is clicked, we read the input value using inputRef.current.value and update the state.</li><li>We clear the input field by setting inputRef.current.value to an empty string.</li></ul><h2 id=2-advanced-usage-of-useref-and-usestate>2. Advanced Usage of <code>useRef</code> and <code>useState</code><a hidden class=anchor aria-hidden=true href=#2-advanced-usage-of-useref-and-usestate>#</a></h2><ul><li><code>useRef</code> and <code>useState</code> are both hooks used in React.</li><li>Both hooks help us store values, but they behave differently:<ul><li><code>useState</code>: The value is persistent across re-renders, but updating it triggers a re-render.</li><li><code>useRef</code>: The value is also persistent across re-renders, but updating it does <strong>not</strong> trigger a re-render.</li></ul></li></ul><h3 id=21-managing-previous-values-in-a-stopwatch>2.1. Managing Previous Values in a Stopwatch<a hidden class=anchor aria-hidden=true href=#21-managing-previous-values-in-a-stopwatch>#</a></h3><p>Here’s an example of how to use <code>useRef</code> and <code>useState</code> to build a simple stopwatch in React:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Stopwatch</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>timerRef</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>// To store the timer ID
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>time</span>, <span style=color:#a6e22e>setTime</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>// To store the current time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>isRunning</span>, <span style=color:#a6e22e>setIsRunning</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>false</span>); <span style=color:#75715e>// To track if the stopwatch is running
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Start the timer when the Start button is clicked
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>startTimer</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isRunning</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>timerRef</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(() =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>setTime</span>((<span style=color:#a6e22e>time</span>) =&gt; <span style=color:#a6e22e>time</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// Increment the time every second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      }, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setIsRunning</span>(<span style=color:#66d9ef>true</span>); <span style=color:#75715e>// Set the timer as running
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Stop the timer when the Stop button is clicked
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stopTimer</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>timerRef</span>.<span style=color:#a6e22e>current</span>); <span style=color:#75715e>// Clear the interval to stop the timer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>setIsRunning</span>(<span style=color:#66d9ef>false</span>); <span style=color:#75715e>// Set the timer as not running
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Reset the timer when the Reset button is clicked
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>resetTimer</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>timerRef</span>.<span style=color:#a6e22e>current</span>); <span style=color:#75715e>// Clear the interval to stop the timer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>setIsRunning</span>(<span style=color:#66d9ef>false</span>); <span style=color:#75715e>// Set the timer as not running
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>setTime</span>(<span style=color:#ae81ff>0</span>); <span style=color:#75715e>// Reset the time to 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>Stopwatch</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>Time</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>time</span>} <span style=color:#a6e22e>seconds</span>&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>startTimer</span>}&gt;<span style=color:#a6e22e>Start</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>stopTimer</span>}&gt;<span style=color:#a6e22e>Stop</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>resetTimer</span>}&gt;<span style=color:#a6e22e>Reset</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=explanation>Explanation<a hidden class=anchor aria-hidden=true href=#explanation>#</a></h3><ol><li><p><strong>Creating <code>useRef</code> and <code>useState</code> variables:</strong></p><ul><li><code>timerRef</code>: This holds the timer ID (returned by <code>setInterval</code>). We use <code>useRef</code> here because we don’t need the component to re-render when the timer ID changes.</li><li><code>time</code>: This stores the current time value of the stopwatch, and we use <code>useState</code> for this because we want the component to re-render whenever the time updates.</li><li><code>isRunning</code>: This tracks whether the stopwatch is running or not.</li></ul></li><li><p><strong>Starting the timer (Start Button):</strong></p><ul><li>When the &ldquo;Start&rdquo; button is clicked, we check if the timer is already running. If it isn’t, we start it by calling <code>setInterval</code>, which increments the time value every second.</li><li><code>setInterval</code> returns an interval ID that we store in <code>timerRef.current</code>. This ID will be used to stop the timer later.</li></ul></li><li><p><strong>Stopping the timer (Stop Button):</strong></p><ul><li>When the &ldquo;Stop&rdquo; button is clicked, we clear the interval using <code>clearInterval(timerRef.current)</code> to stop the timer.</li><li>We also set <code>isRunning</code> to <code>false</code> to indicate that the timer is no longer running.</li></ul></li><li><p><strong>Resetting the timer (Reset Button):</strong></p><ul><li>When the &ldquo;Reset&rdquo; button is clicked, we clear the interval to stop the timer, set <code>isRunning</code> to <code>false</code>, and reset the <code>time</code> back to 0.</li></ul></li></ol><h3 id=why-useref>Why <code>useRef</code>?<a hidden class=anchor aria-hidden=true href=#why-useref>#</a></h3><ul><li><p><strong>Why not just use a regular variable?</strong></p><ul><li>A regular variable inside the component would reset every time the component re-renders. Since the timer is being updated every second, this would cause issues because the value would be reset each time, and the timer wouldn’t function correctly.</li></ul></li><li><p><strong>Why <code>useRef</code> over <code>useState</code> for the timer ID?</strong></p><ul><li>We use <code>useRef</code> to store the timer ID because updating it with <code>useState</code> would trigger a re-render every time the timer ID changes. Since the timer is running independently, we don’t need a re-render, so <code>useRef</code> is more efficient here.</li></ul></li></ul><h3 id=key-takeaways>Key Takeaways<a hidden class=anchor aria-hidden=true href=#key-takeaways>#</a></h3><ul><li><code>useRef</code> is useful for storing values that don’t require the component to re-render when they change.</li><li><code>useState</code> is used for values that should trigger a re-render when updated, like the time value in our stopwatch.</li><li><code>useRef</code> does not cause a re-render when its value changes, making it ideal for holding values like the interval ID that don’t need to affect the UI.</li></ul><h2 id=common-use-cases>Common Use Cases<a hidden class=anchor aria-hidden=true href=#common-use-cases>#</a></h2><ul><li>Storing previous values</li><li>Managing focus, text selection, or media playback</li><li>Integrating with third-party DOM libraries</li><li>Accessing underlying DOM elements</li></ul><blockquote><p>Isolation in Components: Any variable that is declared inside a component is isolated to that component. It is not shared with other components unless explicitly passed as props. This isolation helps maintain the encapsulation and modularity of components in React.</p></blockquote></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/pages/readinglist/my_reading/><span class=title>« Prev</span><br><span>Learning Journey</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share  on x" href="https://x.com/intent/tweet/?text=&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f&amp;title=&amp;summary=&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f&title="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on whatsapp" href="https://api.whatsapp.com/send?text=%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on telegram" href="https://telegram.me/share/url?text=&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share  on ycombinator" href="https://news.ycombinator.com/submitlink?t=&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2freact%2freact7%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Quick Reference</a></span> ·</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>