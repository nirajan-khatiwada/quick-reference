<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Django: Day 5 | Quick Reference</title>
<meta name=keywords content="Django,Python,Relationships,Models,Backend"><meta name=description content="Understand Django model relationships including OneToOne, OneToMany, and ManyToMany. Learn how to define, create, update, and query these relationships."><meta name=author content="Nirajan Khatiwada"><link rel=canonical href=http://localhost:1313/posts/pages/django/django-5/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/images/icon.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/pages/django/django-5/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/pages/django/django-5/"><meta property="og:site_name" content="Quick Reference"><meta property="og:title" content="Django: Day 5"><meta property="og:description" content="Understand Django model relationships including OneToOne, OneToMany, and ManyToMany. Learn how to define, create, update, and query these relationships."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-06T00:00:00+00:00"><meta property="article:modified_time" content="2025-01-06T00:00:00+00:00"><meta property="article:tag" content="Django"><meta property="article:tag" content="Python"><meta property="article:tag" content="Relationships"><meta property="article:tag" content="Models"><meta property="article:tag" content="Backend"><meta property="og:image" content="http://localhost:1313/images/django-relations.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/images/django-relations.jpg"><meta name=twitter:title content="Django: Day 5"><meta name=twitter:description content="Understand Django model relationships including OneToOne, OneToMany, and ManyToMany. Learn how to define, create, update, and query these relationships."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Django: Day 5","item":"http://localhost:1313/posts/pages/django/django-5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Django: Day 5","name":"Django: Day 5","description":"Understand Django model relationships including OneToOne, OneToMany, and ManyToMany. Learn how to define, create, update, and query these relationships.","keywords":["Django","Python","Relationships","Models","Backend"],"articleBody":"Django Relations In Django, there are three main types of relationships between models: OneToOne, OneToMany, and ManyToMany.\nSome Important Terms related_name: This attribute is used to define the reverse relation from the related model back to the model that defines the relationship. on_delete: It specifies the behavior to adopt when the object referenced by a foreign key is deleted. on_delete Options models.CASCADE: When the referenced object is deleted, also delete the objects that have a foreign key to it. models.PROTECT: Prevent deletion of the referenced object by raising a ProtectedError exception. models.SET_NULL: Set the foreign key to NULL when the referenced object is deleted. models.SET_DEFAULT: Set the foreign key to its default value when the referenced object is deleted. models.SET(): Set the foreign key to the value passed to SET() when the referenced object is deleted. models.DO_NOTHING: Do nothing when the referenced object is deleted. Note: In most cases, models.CASCADE is used.\nOneToOne Relation A OneToOne relationship establishes a unique connection between two models where each instance of one model corresponds to exactly one instance of another model. This relationship ensures data integrity by preventing multiple associations.\nKey Characteristics:\nEach object can only be related to one other object Attempting to create multiple relationships with the same object will raise an error Commonly used for extending models or creating profile-like relationships Defining OneToOne Relations You can define a OneToOne relation using OneToOneField:\nfrom django.db import models class Student(models.Model): name = models.CharField(max_length=100) age = models.IntegerField() class StudentProfile(models.Model): student = models.OneToOneField( Student, on_delete=models.CASCADE, related_name='profile' ) address = models.TextField() phone = models.CharField(max_length=15) Important Notes:\nThe related_name parameter must be unique within the model It enables reverse access from the related model (Student to StudentProfile) The on_delete=models.CASCADE ensures that when a Student is deleted, their profile is also deleted Creating OneToOne Relations Method 1: Create with new objects student = Student.objects.create(name='John', age=20) profile = StudentProfile.objects.create( student=student, address='New York', phone='1234567890' ) Method 2: Using existing objects student = Student.objects.get(name='John') profile = StudentProfile.objects.create( student=student, address='New York', phone='1234567890' ) Updating OneToOne Relations student = Student.objects.get(name='John') profile = student.profile profile.address = 'California' profile.save() Accessing Related Objects From Profile to Student student_profile = StudentProfile.objects.get(address='California') student = student_profile.student From Student to Profile (using related_name) student = Student.objects.get(name='John') profile = student.profile Related Name Example Here’s another example demonstrating related_name usage:\nclass Author(models.Model): name = models.CharField(max_length=100) age = models.IntegerField() class Book(models.Model): author = models.OneToOneField( Author, on_delete=models.CASCADE, related_name='book' ) title = models.CharField(max_length=100) Accessing the Book from Author:\nauthor = Author.objects.get(name='John') book = author.book Querying Strategies Finding Student Profile by Student Name Method 1: Using field lookups with double underscores\nstudent_profile = StudentProfile.objects.get(student__name='John') Method 2: Two-step approach\nstudent = Student.objects.get(name='John') student_profile = StudentProfile.objects.get(student=student) Method 3: Using related_name (most efficient)\nstudent = Student.objects.get(name='John') student_profile = student.profile Finding Student by Profile Address Method 1: Using reverse field lookups\nstudent = Student.objects.get(profile__address='California') Method 2: Two-step query approach\nstudent_profile = StudentProfile.objects.get(address='California') student = Student.objects.get(profile=student_profile) Method 3: Direct relationship access\nstudent_profile = StudentProfile.objects.get(address='California') student = student_profile.student Best Practices Use descriptive related_name values that clearly indicate the relationship Consider the performance implications of your querying strategy Method 1 (field lookups) and Method 3 (direct access) are generally more efficient than Method 2 (two separate queries) Always handle potential DoesNotExist exceptions when querying for related objects Use select_related() for efficient querying when you know you’ll need the related object OneToMany Relation Understanding OneToMany Relationships A OneToMany relationship establishes a connection where one instance of a model can be related to multiple instances of another model, but each instance of the second model can only be related to one instance of the first model. This is also known as a “Foreign Key” relationship.\nKey Characteristics:\nOne record in the parent model can have multiple related records in the child model Each record in the child model can only belong to one parent record The relationship is defined using ForeignKey on the “many” side Common examples: Author → Books, Category → Products, Department → Employees Defining OneToMany Relations You define a OneToMany relation using the ForeignKey field on the “many” side of the relationship:\nfrom django.db import models class Subject(models.Model): name = models.CharField(max_length=100) def __str__(self): return self.name class Student(models.Model): name = models.CharField(max_length=100) age = models.IntegerField() subject = models.ForeignKey( Subject, on_delete=models.CASCADE, related_name='students' ) def __str__(self): return self.name Important Notes:\nrelated_name='students' allows reverse access from Subject to Students on_delete=models.CASCADE defines what happens when the referenced object is deleted Creating OneToMany Relations Method 1: Create objects and assign relationships # Create subjects math_subject = Subject.objects.create(name='Mathematics') science_subject = Subject.objects.create(name='Science') # Create students and assign to subjects student1 = Student.objects.create(name='John', age=20, subject=math_subject) student2 = Student.objects.create(name='Jane', age=22, subject=math_subject) student3 = Student.objects.create(name='Bob', age=21, subject=science_subject) Method 2: Create separately and assign later subject = Subject.objects.create(name='History') student = Student.objects.create(name='Alice', age=19) # Assign the relationship student.subject = subject student.save() Method 3: Using existing objects subject = Subject.objects.get(name='Mathematics') student = Student.objects.create(name='Charlie', age=20, subject=subject) Updating OneToMany Relations Changing a student’s subject student = Student.objects.get(name='John') new_subject = Subject.objects.get(name='Science') student.subject = new_subject student.save() Updating the subject details student = Student.objects.get(name='John') subject = student.subject subject.name = 'Advanced Mathematics' subject.save() Accessing Related Objects From Student to Subject (Forward Relationship) student = Student.objects.get(name='John') subject = student.subject print(f\"{student.name} studies {subject.name}\") From Subject to Students (Reverse Relationship) subject = Subject.objects.get(name='Mathematics') students = subject.students.all() for student in students: print(f\"{student.name} studies {subject.name}\") Querying Strategies Finding Students by Subject Name Method 1: Using field lookups with double underscores\nstudents = Student.objects.filter(subject__name='Mathematics') Method 2: Two-step approach\nsubject = Subject.objects.get(name='Mathematics') students = Student.objects.filter(subject=subject) Method 3: Using related_name (reverse relationship)\nsubject = Subject.objects.get(name='Mathematics') students = subject.students.all() # Or with filtering students = subject.students.filter(age__gte=20) Finding Subject by Student Name Method 1: Direct access through relationship\nstudent = Student.objects.get(name='John') subject = student.subject Method 2: Using field lookups\nsubject = Subject.objects.get(students__name='John') Method 3: Using select_related for efficiency\nstudent = Student.objects.get(name='John') subject = Subject.objects.get(students=student) Django ManyToMany Relationship Guide A ManyToMany relationship establishes a bidirectional connection where each instance of one model can be related to multiple instances of another model, and vice versa. This relationship is implemented using an intermediate junction table behind the scenes.\nKey Characteristics:\nEach record in Model A can relate to multiple records in Model B Each record in Model B can relate to multiple records in Model A Django automatically creates an intermediate table to store the relationships No on_delete parameter is needed (relationships are simply removed, not cascaded) Example: A student can have multiple subjects, and a subject can have multiple students Defining ManyToMany Relations You define a ManyToMany relation using the ManyToManyField. The field can be placed on either model, but conventionally it’s placed on the model that makes more semantic sense.\nfrom django.db import models class Subject(models.Model): name = models.CharField(max_length=100) def __str__(self): return self.name class Student(models.Model): name = models.CharField(max_length=100) age = models.IntegerField() subjects = models.ManyToManyField( Subject, related_name='students', blank=True # Allows students with no subjects initially ) def __str__(self): return self.name Important Notes:\nThe ManyToManyField creates a hidden intermediate table related_name='students' allows reverse access from Subject to Students blank=True allows the relationship to be empty initially No on_delete parameter is required or allowed Essential Methods for ManyToMany Relationships add() Method Adds one or more related objects to the relationship.\n# Add single subject student.subjects.add(subject) # Add a student to a subject subject.students.add(student) # This is the reverse relationship # Add multiple subjects student.subjects.add(subject1, subject2, subject3) # Add multiple students to a subject subject.students.add(student1, student2, student3) remove() Method Removes one or more related objects from the relationship.\n# Remove single subject student.subjects.remove(subject) # Remove a student from a subject subject.students.remove(student) # This is the reverse relationship # Remove multiple subjects student.subjects.remove(subject1, subject2) # Remove multiple students from a subject subject.students.remove(student1, student2) clear() Method Removes all related objects from the relationship.\n# Remove all subjects from a student student.subjects.clear() # Remove all students from a subject subject.students.clear() set() Method Replaces the current set of related objects with a new set.\n# Set specific subjects for a student student.subjects.set([subject1, subject2]) # Set specific students for a subject subject.students.set([student1, student2]) # Clear all relationships student.subjects.set([]) Creating ManyToMany Relations Step 1: Create the objects # Create subjects math = Subject.objects.create(name='Mathematics') science = Subject.objects.create(name='Science') history = Subject.objects.create(name='History') # Create students john = Student.objects.create(name='John', age=20) jane = Student.objects.create(name='Jane', age=22) bob = Student.objects.create(name='Bob', age=21) Step 2: Establish relationships # John studies Math and Science john.subjects.add(math, science) # Jane studies Math and History jane.subjects.add(math, history) # Bob studies all three subjects bob.subjects.add(math, science, history) Relationship Structure After the above operations, the relationships look like this:\nJohn → Mathematics, Science Jane → Mathematics, History Bob → Mathematics, Science, History Mathematics → John, Jane, Bob Science → John, Bob History → Jane, Bob Accessing Related Objects From Student to Subjects (Forward Relationship) student = Student.objects.get(name='John') # Get all subjects for John subjects = student.subjects.all() From Subject to Students (Reverse Relationship) subject = Subject.objects.get(name='Mathematics') # Get all students studying Mathematics students = subject.students.all() Updating ManyToMany Relations Adding new relationships student = Student.objects.get(name='John') history_subject = Subject.objects.get(name='History') # Add History to John's subjects student.subjects.add(history_subject) print(f\"{student.name} now studies: {[s.name for s in student.subjects.all()]}\") Removing relationships student = Student.objects.get(name='John') science_subject = Subject.objects.get(name='Science') # Remove Science from John's subjects student.subjects.remove(science_subject) print(f\"{student.name} now studies: {[s.name for s in student.subjects.all()]}\") Replacing all relationships student = Student.objects.get(name='Bob') new_subjects = Subject.objects.filter(name__in=['Mathematics', 'History']) # Replace all of Bob's subjects with just Math and History student.subjects.set(new_subjects) print(f\"{student.name} now studies: {[s.name for s in student.subjects.all()]}\") Querying Strategies Finding Students by Subject Name Method 1: Using field lookups with double underscores\nstudents = Student.objects.filter(subjects__name='Mathematics') print(f\"Students studying Mathematics: {[s.name for s in students]}\") Method 2: Using reverse relationship\nsubject = Subject.objects.get(name='Mathematics') students = subject.students.all() print(f\"Students studying {subject.name}: {[s.name for s in students]}\") Method 3: With additional filtering\nsubject = Subject.objects.get(name='Mathematics') young_students = Student.objects.filter(subjects=subject) print(f\"Young students studying {subject.name}: {[s.name for s in young_students if s.age \u003c 21]}\") Finding Subjects by Student Name Method 1: Direct access\nstudent = Student.objects.get(name='John') subjects = student.subjects.all() print(f\"{student.name} studies: {[s.name for s in subjects]}\") Method 2: Using field lookups\nsubjects = Subject.objects.filter(students__name='John') print(f\"John's subjects: {[s.name for s in subjects]}\") **Method 3: Using filter ***\nstudent = Student.objects.get(name='John') subjects = Subject.objects.filter(students=student) print(f\"{student.name} studies: {[s.name for s in subjects]}\") ","wordCount":"1660","inLanguage":"en","image":"http://localhost:1313/images/django-relations.jpg","datePublished":"2025-01-06T00:00:00Z","dateModified":"2025-01-06T00:00:00Z","author":{"@type":"Person","name":"Nirajan Khatiwada"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/pages/django/django-5/"},"publisher":{"@type":"Organization","name":"Quick Reference","logo":{"@type":"ImageObject","url":"http://localhost:1313/images/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Quick Reference (Alt + H)">Quick Reference</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Django: Day 5</h1><div class=post-description>Understand Django model relationships including OneToOne, OneToMany, and ManyToMany. Learn how to define, create, update, and query these relationships.</div><div class=post-meta><span title='2025-01-06 00:00:00 +0000 UTC'>January 6, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1660 words&nbsp;·&nbsp;Nirajan Khatiwada&nbsp;|&nbsp;<a href=https://github.com/nirajan-khatiwada/quick-reference/tree/main/content/posts/pages/django/django-5.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#some-important-terms>Some Important Terms</a><ul><li><a href=#on_delete-options><code>on_delete</code> Options</a></li></ul></li><li><a href=#onetoone-relation>OneToOne Relation</a><ul><li><a href=#defining-onetoone-relations>Defining OneToOne Relations</a></li><li><a href=#creating-onetoone-relations>Creating OneToOne Relations</a></li><li><a href=#method-1-create-with-new-objects>Method 1: Create with new objects</a></li><li><a href=#method-2-using-existing-objects>Method 2: Using existing objects</a></li><li><a href=#updating-onetoone-relations>Updating OneToOne Relations</a></li><li><a href=#accessing-related-objects>Accessing Related Objects</a></li><li><a href=#from-profile-to-student>From Profile to Student</a></li><li><a href=#from-student-to-profile-using-related_name>From Student to Profile (using related_name)</a></li><li><a href=#related-name-example>Related Name Example</a></li><li><a href=#querying-strategies>Querying Strategies</a></li><li><a href=#finding-student-profile-by-student-name>Finding Student Profile by Student Name</a></li><li><a href=#finding-student-by-profile-address>Finding Student by Profile Address</a></li><li><a href=#best-practices>Best Practices</a></li></ul></li><li><a href=#onetomany-relation>OneToMany Relation</a></li><li><a href=#understanding-onetomany-relationships>Understanding OneToMany Relationships</a></li><li><a href=#defining-onetomany-relations>Defining OneToMany Relations</a></li><li><a href=#creating-onetomany-relations>Creating OneToMany Relations</a><ul><li><a href=#method-1-create-objects-and-assign-relationships>Method 1: Create objects and assign relationships</a></li><li><a href=#method-2-create-separately-and-assign-later>Method 2: Create separately and assign later</a></li><li><a href=#method-3-using-existing-objects>Method 3: Using existing objects</a></li></ul></li><li><a href=#updating-onetomany-relations>Updating OneToMany Relations</a><ul><li><a href=#changing-a-students-subject>Changing a student&rsquo;s subject</a></li><li><a href=#updating-the-subject-details>Updating the subject details</a></li></ul></li><li><a href=#accessing-related-objects-1>Accessing Related Objects</a><ul><li><a href=#from-student-to-subject-forward-relationship>From Student to Subject (Forward Relationship)</a></li><li><a href=#from-subject-to-students-reverse-relationship>From Subject to Students (Reverse Relationship)</a></li></ul></li><li><a href=#querying-strategies-1>Querying Strategies</a><ul><li><a href=#finding-students-by-subject-name>Finding Students by Subject Name</a></li><li><a href=#finding-subject-by-student-name>Finding Subject by Student Name</a></li></ul></li></ul><ul><li><a href=#defining-manytomany-relations>Defining ManyToMany Relations</a></li><li><a href=#essential-methods-for-manytomany-relationships>Essential Methods for ManyToMany Relationships</a><ul><li><a href=#add-method><code>add()</code> Method</a></li><li><a href=#remove-method><code>remove()</code> Method</a></li><li><a href=#clear-method><code>clear()</code> Method</a></li><li><a href=#set-method><code>set()</code> Method</a></li></ul></li><li><a href=#creating-manytomany-relations>Creating ManyToMany Relations</a><ul><li><a href=#step-1-create-the-objects>Step 1: Create the objects</a></li><li><a href=#step-2-establish-relationships>Step 2: Establish relationships</a></li><li><a href=#relationship-structure>Relationship Structure</a></li></ul></li><li><a href=#accessing-related-objects-2>Accessing Related Objects</a><ul><li><a href=#from-student-to-subjects-forward-relationship>From Student to Subjects (Forward Relationship)</a></li><li><a href=#from-subject-to-students-reverse-relationship-1>From Subject to Students (Reverse Relationship)</a></li></ul></li><li><a href=#updating-manytomany-relations>Updating ManyToMany Relations</a><ul><li><a href=#adding-new-relationships>Adding new relationships</a></li><li><a href=#removing-relationships>Removing relationships</a></li><li><a href=#replacing-all-relationships>Replacing all relationships</a></li></ul></li><li><a href=#querying-strategies-2>Querying Strategies</a><ul><li><a href=#finding-students-by-subject-name-1>Finding Students by Subject Name</a></li><li><a href=#finding-subjects-by-student-name>Finding Subjects by Student Name</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=django-relations>Django Relations<a hidden class=anchor aria-hidden=true href=#django-relations>#</a></h1><p>In Django, there are three main types of relationships between models: OneToOne, OneToMany, and ManyToMany.</p><h2 id=some-important-terms>Some Important Terms<a hidden class=anchor aria-hidden=true href=#some-important-terms>#</a></h2><ul><li><strong><code>related_name</code></strong>: This attribute is used to define the reverse relation from the related model back to the model that defines the relationship.</li><li><strong><code>on_delete</code></strong>: It specifies the behavior to adopt when the object referenced by a foreign key is deleted.</li></ul><h3 id=on_delete-options><code>on_delete</code> Options<a hidden class=anchor aria-hidden=true href=#on_delete-options>#</a></h3><ul><li><strong><code>models.CASCADE</code></strong>: When the referenced object is deleted, also delete the objects that have a foreign key to it.</li><li><strong><code>models.PROTECT</code></strong>: Prevent deletion of the referenced object by raising a <code>ProtectedError</code> exception.</li><li><strong><code>models.SET_NULL</code></strong>: Set the foreign key to <code>NULL</code> when the referenced object is deleted.</li><li><strong><code>models.SET_DEFAULT</code></strong>: Set the foreign key to its default value when the referenced object is deleted.</li><li><strong><code>models.SET()</code></strong>: Set the foreign key to the value passed to <code>SET()</code> when the referenced object is deleted.</li><li><strong><code>models.DO_NOTHING</code></strong>: Do nothing when the referenced object is deleted.</li></ul><blockquote><p>Note: In most cases, <code>models.CASCADE</code> is used.</p></blockquote><hr><h2 id=onetoone-relation>OneToOne Relation<a hidden class=anchor aria-hidden=true href=#onetoone-relation>#</a></h2><p>A OneToOne relationship establishes a unique connection between two models where each instance of one model corresponds to exactly one instance of another model. This relationship ensures data integrity by preventing multiple associations.</p><p><strong>Key Characteristics:</strong></p><ul><li>Each object can only be related to one other object</li><li>Attempting to create multiple relationships with the same object will raise an error</li><li>Commonly used for extending models or creating profile-like relationships</li></ul><h3 id=defining-onetoone-relations>Defining OneToOne Relations<a hidden class=anchor aria-hidden=true href=#defining-onetoone-relations>#</a></h3><p>You can define a OneToOne relation using <code>OneToOneField</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.db <span style=color:#f92672>import</span> models
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Student</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    age <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>IntegerField()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StudentProfile</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    student <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>OneToOneField(
</span></span><span style=display:flex><span>        Student, 
</span></span><span style=display:flex><span>        on_delete<span style=color:#f92672>=</span>models<span style=color:#f92672>.</span>CASCADE, 
</span></span><span style=display:flex><span>        related_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;profile&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    address <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>TextField()
</span></span><span style=display:flex><span>    phone <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>15</span>)
</span></span></code></pre></div><p><strong>Important Notes:</strong></p><ul><li>The <code>related_name</code> parameter must be unique within the model</li><li>It enables reverse access from the related model (Student to StudentProfile)</li><li>The <code>on_delete=models.CASCADE</code> ensures that when a Student is deleted, their profile is also deleted</li></ul><h3 id=creating-onetoone-relations>Creating OneToOne Relations<a hidden class=anchor aria-hidden=true href=#creating-onetoone-relations>#</a></h3><h3 id=method-1-create-with-new-objects>Method 1: Create with new objects<a hidden class=anchor aria-hidden=true href=#method-1-create-with-new-objects>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>    student<span style=color:#f92672>=</span>student, 
</span></span><span style=display:flex><span>    address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;New York&#39;</span>, 
</span></span><span style=display:flex><span>    phone<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;1234567890&#39;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h3 id=method-2-using-existing-objects>Method 2: Using existing objects<a hidden class=anchor aria-hidden=true href=#method-2-using-existing-objects>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>    student<span style=color:#f92672>=</span>student, 
</span></span><span style=display:flex><span>    address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;New York&#39;</span>, 
</span></span><span style=display:flex><span>    phone<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;1234567890&#39;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h3 id=updating-onetoone-relations>Updating OneToOne Relations<a hidden class=anchor aria-hidden=true href=#updating-onetoone-relations>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>profile <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>profile
</span></span><span style=display:flex><span>profile<span style=color:#f92672>.</span>address <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;California&#39;</span>
</span></span><span style=display:flex><span>profile<span style=color:#f92672>.</span>save()
</span></span></code></pre></div><h3 id=accessing-related-objects>Accessing Related Objects<a hidden class=anchor aria-hidden=true href=#accessing-related-objects>#</a></h3><h3 id=from-profile-to-student>From Profile to Student<a hidden class=anchor aria-hidden=true href=#from-profile-to-student>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;California&#39;</span>)
</span></span><span style=display:flex><span>student <span style=color:#f92672>=</span> student_profile<span style=color:#f92672>.</span>student
</span></span></code></pre></div><h3 id=from-student-to-profile-using-related_name>From Student to Profile (using related_name)<a hidden class=anchor aria-hidden=true href=#from-student-to-profile-using-related_name>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>profile <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>profile
</span></span></code></pre></div><h3 id=related-name-example>Related Name Example<a hidden class=anchor aria-hidden=true href=#related-name-example>#</a></h3><p>Here&rsquo;s another example demonstrating <code>related_name</code> usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Author</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    age <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>IntegerField()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Book</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    author <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>OneToOneField(
</span></span><span style=display:flex><span>        Author, 
</span></span><span style=display:flex><span>        on_delete<span style=color:#f92672>=</span>models<span style=color:#f92672>.</span>CASCADE, 
</span></span><span style=display:flex><span>        related_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;book&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    title <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span></code></pre></div><p>Accessing the Book from Author:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>author <span style=color:#f92672>=</span> Author<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>book <span style=color:#f92672>=</span> author<span style=color:#f92672>.</span>book
</span></span></code></pre></div><h3 id=querying-strategies>Querying Strategies<a hidden class=anchor aria-hidden=true href=#querying-strategies>#</a></h3><h3 id=finding-student-profile-by-student-name>Finding Student Profile by Student Name<a hidden class=anchor aria-hidden=true href=#finding-student-profile-by-student-name>#</a></h3><p><strong>Method 1: Using field lookups with double underscores</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(student__name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span></code></pre></div><p><strong>Method 2: Two-step approach</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(student<span style=color:#f92672>=</span>student)
</span></span></code></pre></div><p><strong>Method 3: Using related_name (most efficient)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>profile
</span></span></code></pre></div><h3 id=finding-student-by-profile-address>Finding Student by Profile Address<a hidden class=anchor aria-hidden=true href=#finding-student-by-profile-address>#</a></h3><p><strong>Method 1: Using reverse field lookups</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(profile__address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;California&#39;</span>)
</span></span></code></pre></div><p><strong>Method 2: Two-step query approach</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;California&#39;</span>)
</span></span><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(profile<span style=color:#f92672>=</span>student_profile)
</span></span></code></pre></div><p><strong>Method 3: Direct relationship access</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student_profile <span style=color:#f92672>=</span> StudentProfile<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;California&#39;</span>)
</span></span><span style=display:flex><span>student <span style=color:#f92672>=</span> student_profile<span style=color:#f92672>.</span>student
</span></span></code></pre></div><h3 id=best-practices>Best Practices<a hidden class=anchor aria-hidden=true href=#best-practices>#</a></h3><ul><li>Use descriptive <code>related_name</code> values that clearly indicate the relationship</li><li>Consider the performance implications of your querying strategy</li><li>Method 1 (field lookups) and Method 3 (direct access) are generally more efficient than Method 2 (two separate queries)</li><li>Always handle potential <code>DoesNotExist</code> exceptions when querying for related objects</li><li>Use <code>select_related()</code> for efficient querying when you know you&rsquo;ll need the related object</li></ul><h2 id=onetomany-relation>OneToMany Relation<a hidden class=anchor aria-hidden=true href=#onetomany-relation>#</a></h2><h2 id=understanding-onetomany-relationships>Understanding OneToMany Relationships<a hidden class=anchor aria-hidden=true href=#understanding-onetomany-relationships>#</a></h2><p>A OneToMany relationship establishes a connection where one instance of a model can be related to multiple instances of another model, but each instance of the second model can only be related to one instance of the first model. This is also known as a &ldquo;Foreign Key&rdquo; relationship.</p><p><strong>Key Characteristics:</strong></p><ul><li>One record in the parent model can have multiple related records in the child model</li><li>Each record in the child model can only belong to one parent record</li><li>The relationship is defined using <code>ForeignKey</code> on the &ldquo;many&rdquo; side</li><li>Common examples: Author → Books, Category → Products, Department → Employees</li></ul><h2 id=defining-onetomany-relations>Defining OneToMany Relations<a hidden class=anchor aria-hidden=true href=#defining-onetomany-relations>#</a></h2><p>You define a OneToMany relation using the <code>ForeignKey</code> field on the &ldquo;many&rdquo; side of the relationship:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.db <span style=color:#f92672>import</span> models
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Subject</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__str__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Student</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    age <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>IntegerField()
</span></span><span style=display:flex><span>    subject <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>ForeignKey(
</span></span><span style=display:flex><span>        Subject, 
</span></span><span style=display:flex><span>        on_delete<span style=color:#f92672>=</span>models<span style=color:#f92672>.</span>CASCADE, 
</span></span><span style=display:flex><span>        related_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;students&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__str__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>name
</span></span></code></pre></div><p><strong>Important Notes:</strong></p><ul><li><code>related_name='students'</code> allows reverse access from Subject to Students</li><li><code>on_delete=models.CASCADE</code> defines what happens when the referenced object is deleted</li></ul><h2 id=creating-onetomany-relations>Creating OneToMany Relations<a hidden class=anchor aria-hidden=true href=#creating-onetomany-relations>#</a></h2><h3 id=method-1-create-objects-and-assign-relationships>Method 1: Create objects and assign relationships<a hidden class=anchor aria-hidden=true href=#method-1-create-objects-and-assign-relationships>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Create subjects</span>
</span></span><span style=display:flex><span>math_subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>science_subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Science&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create students and assign to subjects</span>
</span></span><span style=display:flex><span>student1 <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>, subject<span style=color:#f92672>=</span>math_subject)
</span></span><span style=display:flex><span>student2 <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Jane&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>22</span>, subject<span style=color:#f92672>=</span>math_subject)
</span></span><span style=display:flex><span>student3 <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>21</span>, subject<span style=color:#f92672>=</span>science_subject)
</span></span></code></pre></div><h3 id=method-2-create-separately-and-assign-later>Method 2: Create separately and assign later<a hidden class=anchor aria-hidden=true href=#method-2-create-separately-and-assign-later>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;History&#39;</span>)
</span></span><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Alice&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>19</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Assign the relationship</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subject <span style=color:#f92672>=</span> subject
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>save()
</span></span></code></pre></div><h3 id=method-3-using-existing-objects>Method 3: Using existing objects<a hidden class=anchor aria-hidden=true href=#method-3-using-existing-objects>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Charlie&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>, subject<span style=color:#f92672>=</span>subject)
</span></span></code></pre></div><h2 id=updating-onetomany-relations>Updating OneToMany Relations<a hidden class=anchor aria-hidden=true href=#updating-onetomany-relations>#</a></h2><h3 id=changing-a-students-subject>Changing a student&rsquo;s subject<a hidden class=anchor aria-hidden=true href=#changing-a-students-subject>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>new_subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Science&#39;</span>)
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subject <span style=color:#f92672>=</span> new_subject
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>save()
</span></span></code></pre></div><h3 id=updating-the-subject-details>Updating the subject details<a hidden class=anchor aria-hidden=true href=#updating-the-subject-details>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subject <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>subject
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Advanced Mathematics&#39;</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>save()
</span></span></code></pre></div><h2 id=accessing-related-objects-1>Accessing Related Objects<a hidden class=anchor aria-hidden=true href=#accessing-related-objects-1>#</a></h2><h3 id=from-student-to-subject-forward-relationship>From Student to Subject (Forward Relationship)<a hidden class=anchor aria-hidden=true href=#from-student-to-subject-forward-relationship>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subject <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>subject
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> studies </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=from-subject-to-students-reverse-relationship>From Subject to Students (Reverse Relationship)<a hidden class=anchor aria-hidden=true href=#from-subject-to-students-reverse-relationship>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>all()
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> student <span style=color:#f92672>in</span> students:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> studies </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h2 id=querying-strategies-1>Querying Strategies<a hidden class=anchor aria-hidden=true href=#querying-strategies-1>#</a></h2><h3 id=finding-students-by-subject-name>Finding Students by Subject Name<a hidden class=anchor aria-hidden=true href=#finding-students-by-subject-name>#</a></h3><p><strong>Method 1: Using field lookups with double underscores</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>students <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(subject__name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span></code></pre></div><p><strong>Method 2: Two-step approach</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(subject<span style=color:#f92672>=</span>subject)
</span></span></code></pre></div><p><strong>Method 3: Using related_name (reverse relationship)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>all()
</span></span><span style=display:flex><span><span style=color:#75715e># Or with filtering</span>
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>filter(age__gte<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>)
</span></span></code></pre></div><h3 id=finding-subject-by-student-name>Finding Subject by Student Name<a hidden class=anchor aria-hidden=true href=#finding-subject-by-student-name>#</a></h3><p><strong>Method 1: Direct access through relationship</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subject <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>subject
</span></span></code></pre></div><p><strong>Method 2: Using field lookups</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(students__name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span></code></pre></div><p><strong>Method 3: Using select_related for efficiency</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(students<span style=color:#f92672>=</span>student)
</span></span></code></pre></div><hr><h1 id=django-manytomany-relationship-guide>Django ManyToMany Relationship Guide<a hidden class=anchor aria-hidden=true href=#django-manytomany-relationship-guide>#</a></h1><p>A ManyToMany relationship establishes a bidirectional connection where each instance of one model can be related to multiple instances of another model, and vice versa. This relationship is implemented using an intermediate junction table behind the scenes.</p><p><strong>Key Characteristics:</strong></p><ul><li>Each record in Model A can relate to multiple records in Model B</li><li>Each record in Model B can relate to multiple records in Model A</li><li>Django automatically creates an intermediate table to store the relationships</li><li>No <code>on_delete</code> parameter is needed (relationships are simply removed, not cascaded)</li><li>Example: A student can have multiple subjects, and a subject can have multiple students</li></ul><h2 id=defining-manytomany-relations>Defining ManyToMany Relations<a hidden class=anchor aria-hidden=true href=#defining-manytomany-relations>#</a></h2><p>You define a ManyToMany relation using the <code>ManyToManyField</code>. The field can be placed on either model, but conventionally it&rsquo;s placed on the model that makes more semantic sense.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.db <span style=color:#f92672>import</span> models
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Subject</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__str__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Student</span>(models<span style=color:#f92672>.</span>Model):
</span></span><span style=display:flex><span>    name <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>CharField(max_length<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    age <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>IntegerField()
</span></span><span style=display:flex><span>    subjects <span style=color:#f92672>=</span> models<span style=color:#f92672>.</span>ManyToManyField(
</span></span><span style=display:flex><span>        Subject, 
</span></span><span style=display:flex><span>        related_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;students&#39;</span>,
</span></span><span style=display:flex><span>        blank<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>  <span style=color:#75715e># Allows students with no subjects initially</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__str__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>name
</span></span></code></pre></div><p><strong>Important Notes:</strong></p><ul><li>The <code>ManyToManyField</code> creates a hidden intermediate table</li><li><code>related_name='students'</code> allows reverse access from Subject to Students</li><li><code>blank=True</code> allows the relationship to be empty initially</li><li>No <code>on_delete</code> parameter is required or allowed</li></ul><h2 id=essential-methods-for-manytomany-relationships>Essential Methods for ManyToMany Relationships<a hidden class=anchor aria-hidden=true href=#essential-methods-for-manytomany-relationships>#</a></h2><h3 id=add-method><code>add()</code> Method<a hidden class=anchor aria-hidden=true href=#add-method>#</a></h3><p>Adds one or more related objects to the relationship.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Add single subject</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(subject)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add a student to a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>add(student) <span style=color:#75715e># This is the reverse relationship</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add multiple subjects</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(subject1, subject2, subject3)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add multiple students to a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>add(student1, student2, student3)
</span></span></code></pre></div><h3 id=remove-method><code>remove()</code> Method<a hidden class=anchor aria-hidden=true href=#remove-method>#</a></h3><p>Removes one or more related objects from the relationship.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Remove single subject</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>remove(subject)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove a student from a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>remove(student) <span style=color:#75715e># This is the reverse relationship</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove multiple subjects</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>remove(subject1, subject2)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove multiple students from a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>remove(student1, student2)
</span></span></code></pre></div><h3 id=clear-method><code>clear()</code> Method<a hidden class=anchor aria-hidden=true href=#clear-method>#</a></h3><p>Removes all related objects from the relationship.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Remove all subjects from a student</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>clear()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove all students from a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>clear()
</span></span></code></pre></div><h3 id=set-method><code>set()</code> Method<a hidden class=anchor aria-hidden=true href=#set-method>#</a></h3><p>Replaces the current set of related objects with a new set.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Set specific subjects for a student</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>set([subject1, subject2])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Set specific students for a subject</span>
</span></span><span style=display:flex><span>subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>set([student1, student2])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Clear all relationships</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>set([])
</span></span></code></pre></div><h2 id=creating-manytomany-relations>Creating ManyToMany Relations<a hidden class=anchor aria-hidden=true href=#creating-manytomany-relations>#</a></h2><h3 id=step-1-create-the-objects>Step 1: Create the objects<a hidden class=anchor aria-hidden=true href=#step-1-create-the-objects>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Create subjects</span>
</span></span><span style=display:flex><span>math <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>science <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Science&#39;</span>)
</span></span><span style=display:flex><span>history <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;History&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create students</span>
</span></span><span style=display:flex><span>john <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>jane <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Jane&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>22</span>)
</span></span><span style=display:flex><span>bob <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>create(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>, age<span style=color:#f92672>=</span><span style=color:#ae81ff>21</span>)
</span></span></code></pre></div><h3 id=step-2-establish-relationships>Step 2: Establish relationships<a hidden class=anchor aria-hidden=true href=#step-2-establish-relationships>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># John studies Math and Science</span>
</span></span><span style=display:flex><span>john<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(math, science)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Jane studies Math and History</span>
</span></span><span style=display:flex><span>jane<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(math, history)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bob studies all three subjects</span>
</span></span><span style=display:flex><span>bob<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(math, science, history)
</span></span></code></pre></div><h3 id=relationship-structure>Relationship Structure<a hidden class=anchor aria-hidden=true href=#relationship-structure>#</a></h3><p>After the above operations, the relationships look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>John → Mathematics, Science
</span></span><span style=display:flex><span>Jane → Mathematics, History
</span></span><span style=display:flex><span>Bob → Mathematics, Science, History
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mathematics → John, Jane, Bob
</span></span><span style=display:flex><span>Science → John, Bob
</span></span><span style=display:flex><span>History → Jane, Bob
</span></span></code></pre></div><h2 id=accessing-related-objects-2>Accessing Related Objects<a hidden class=anchor aria-hidden=true href=#accessing-related-objects-2>#</a></h2><h3 id=from-student-to-subjects-forward-relationship>From Student to Subjects (Forward Relationship)<a hidden class=anchor aria-hidden=true href=#from-student-to-subjects-forward-relationship>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get all subjects for John</span>
</span></span><span style=display:flex><span>subjects <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>all()
</span></span></code></pre></div><h3 id=from-subject-to-students-reverse-relationship-1>From Subject to Students (Reverse Relationship)<a hidden class=anchor aria-hidden=true href=#from-subject-to-students-reverse-relationship-1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get all students studying Mathematics</span>
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>all()
</span></span></code></pre></div><h2 id=updating-manytomany-relations>Updating ManyToMany Relations<a hidden class=anchor aria-hidden=true href=#updating-manytomany-relations>#</a></h2><h3 id=adding-new-relationships>Adding new relationships<a hidden class=anchor aria-hidden=true href=#adding-new-relationships>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>history_subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;History&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add History to John&#39;s subjects</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>add(history_subject)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> now studies: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>all()]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=removing-relationships>Removing relationships<a hidden class=anchor aria-hidden=true href=#removing-relationships>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>science_subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Science&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove Science from John&#39;s subjects</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>remove(science_subject)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> now studies: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>all()]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=replacing-all-relationships>Replacing all relationships<a hidden class=anchor aria-hidden=true href=#replacing-all-relationships>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bob&#39;</span>)
</span></span><span style=display:flex><span>new_subjects <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(name__in<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Mathematics&#39;</span>, <span style=color:#e6db74>&#39;History&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Replace all of Bob&#39;s subjects with just Math and History</span>
</span></span><span style=display:flex><span>student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>set(new_subjects)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> now studies: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>all()]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h2 id=querying-strategies-2>Querying Strategies<a hidden class=anchor aria-hidden=true href=#querying-strategies-2>#</a></h2><h3 id=finding-students-by-subject-name-1>Finding Students by Subject Name<a hidden class=anchor aria-hidden=true href=#finding-students-by-subject-name-1>#</a></h3><p><strong>Method 1: Using field lookups with double underscores</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>students <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(subjects__name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Students studying Mathematics: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> students]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p><strong>Method 2: Using reverse relationship</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>students <span style=color:#f92672>=</span> subject<span style=color:#f92672>.</span>students<span style=color:#f92672>.</span>all()
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Students studying </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> students]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p><strong>Method 3: With additional filtering</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subject <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Mathematics&#39;</span>)
</span></span><span style=display:flex><span>young_students <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(subjects<span style=color:#f92672>=</span>subject)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Young students studying </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> young_students <span style=color:#66d9ef>if</span> s<span style=color:#f92672>.</span>age <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>21</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=finding-subjects-by-student-name>Finding Subjects by Student Name<a hidden class=anchor aria-hidden=true href=#finding-subjects-by-student-name>#</a></h3><p><strong>Method 1: Direct access</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subjects <span style=color:#f92672>=</span> student<span style=color:#f92672>.</span>subjects<span style=color:#f92672>.</span>all()
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> studies: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> subjects]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p><strong>Method 2: Using field lookups</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>subjects <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(students__name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;John&#39;s subjects: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> subjects]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p>**Method 3: Using filter ***</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>student <span style=color:#f92672>=</span> Student<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>get(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span>)
</span></span><span style=display:flex><span>subjects <span style=color:#f92672>=</span> Subject<span style=color:#f92672>.</span>objects<span style=color:#f92672>.</span>filter(students<span style=color:#f92672>=</span>student)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>student<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> studies: </span><span style=color:#e6db74>{</span>[s<span style=color:#f92672>.</span>name <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> subjects]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><hr></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/django/>Django</a></li><li><a href=http://localhost:1313/tags/python/>Python</a></li><li><a href=http://localhost:1313/tags/relationships/>Relationships</a></li><li><a href=http://localhost:1313/tags/models/>Models</a></li><li><a href=http://localhost:1313/tags/backend/>Backend</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/pages/django/django-6/><span class=title>« Prev</span><br><span>Django: Day 6</span>
</a><a class=next href=http://localhost:1313/posts/pages/django/django-4/><span class=title>Next »</span><br><span>Django: Day 4</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on x" href="https://x.com/intent/tweet/?text=Django%3a%20Day%205&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f&amp;hashtags=Django%2cPython%2cRelationships%2cModels%2cBackend"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f&amp;title=Django%3a%20Day%205&amp;summary=Django%3a%20Day%205&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f&title=Django%3a%20Day%205"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on whatsapp" href="https://api.whatsapp.com/send?text=Django%3a%20Day%205%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on telegram" href="https://telegram.me/share/url?text=Django%3a%20Day%205&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Django: Day 5 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Django%3a%20Day%205&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fpages%2fdjango%2fdjango-5%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Quick Reference</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js></script><script>const theme=localStorage.getItem("pref-theme")==="dark"?"dark":"default";mermaid.initialize({startOnLoad:!0,theme,securityLevel:"loose"})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>